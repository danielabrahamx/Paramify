# Paramify ICP Environment Configuration Template
# Copy this file to .env and fill in your values

# ============================================
# Network Configuration
# ============================================
# Network to deploy to: local | testnet | ic
DFX_NETWORK=local

# Local replica configuration
REPLICA_PORT=4943
REPLICA_HOST=127.0.0.1

# ============================================
# Identity & Principal Configuration
# ============================================
# Your principal ID (run: dfx identity get-principal)
DEPLOYER_PRINCIPAL=

# Minting account principal for ICRC-1 token
# This account can mint new tokens
MINTING_PRINCIPAL=

# Admin principals (comma-separated list)
# These principals have admin access to canisters
ADMIN_PRINCIPALS=

# ============================================
# Canister IDs (Auto-populated after deployment)
# ============================================
# These will be filled automatically by dfx after deployment
INSURANCE_CANISTER_ID=
ORACLE_CANISTER_ID=
PAYMENTS_CANISTER_ID=
ICRC1_LEDGER_CANISTER_ID=
FRONTEND_CANISTER_ID=

# ============================================
# Oracle Configuration
# ============================================
# USGS Water Data Configuration
# Site ID for water level monitoring
# Default: Potomac River Near Washington DC
USGS_SITE_ID=01646500

# Parameter code for gage height in feet
USGS_PARAMETER_CODE=00065

# Update interval in seconds (minimum 60 for production)
UPDATE_INTERVAL_SECONDS=300

# Maximum retries for failed HTTPS outcalls
MAX_OUTCALL_RETRIES=3

# Outcall timeout in seconds
OUTCALL_TIMEOUT_SECONDS=30

# ============================================
# Insurance Configuration
# ============================================
# Default flood threshold in feet
# Payouts trigger when water level exceeds this
DEFAULT_THRESHOLD_FEET=3.0

# Premium percentage of coverage amount (0-100)
# Example: 10 means 10% premium rate
PREMIUM_PERCENTAGE=10

# Maximum coverage amount in tokens (with 8 decimals)
# Example: 1000000000000 = 10,000 tokens
MAX_COVERAGE_TOKENS=1000000000000

# Minimum coverage amount in tokens (with 8 decimals)
# Example: 100000000 = 1 token
MIN_COVERAGE_TOKENS=100000000

# Policy expiration period in seconds
# Default: 31536000 = 1 year
POLICY_EXPIRATION_SECONDS=31536000

# ============================================
# Payment/Token Configuration
# ============================================
# Token configuration for ICRC-1
TOKEN_NAME=Chain Key Ethereum
TOKEN_SYMBOL=ckETH
TOKEN_DECIMALS=8

# Transfer fee in smallest units
# Example: 10000 = 0.0001 tokens
TRANSFER_FEE=10000

# Initial token supply for testing (with decimals)
# Example: 100000000000000 = 1,000,000 tokens
INITIAL_SUPPLY=100000000000000

# ============================================
# Development Settings
# ============================================
# Enable mock data for testing
ENABLE_MOCK_DATA=false

# Mock flood level for testing (in feet)
MOCK_FLOOD_LEVEL=2.5

# Log level: debug | info | warn | error
LOG_LEVEL=info

# Enable detailed canister logs
ENABLE_CANISTER_LOGS=true

# Frontend development server port
FRONTEND_PORT=3000

# Backend API port (for legacy compatibility)
BACKEND_PORT=3001

# ============================================
# Testing Configuration
# ============================================
# Test network cycles allocation
TEST_CYCLES_AMOUNT=10000000000000

# Enable test mode features
ENABLE_TEST_MODE=false

# Test accounts (comma-separated principals)
TEST_ACCOUNT_PRINCIPALS=

# ============================================
# Monitoring & Analytics
# ============================================
# Enable metrics collection
ENABLE_METRICS=true

# Metrics collection interval (seconds)
METRICS_INTERVAL=60

# Alert threshold for low cycles (in trillion cycles)
LOW_CYCLES_ALERT_THRESHOLD=1

# ============================================
# Security Configuration
# ============================================
# Enable rate limiting
ENABLE_RATE_LIMITING=true

# Rate limit: requests per minute per principal
RATE_LIMIT_RPM=60

# Maximum concurrent policies per principal
MAX_POLICIES_PER_PRINCIPAL=5

# Enable additional security checks
ENABLE_SECURITY_CHECKS=true

# ============================================
# HTTPS Outcall Configuration
# ============================================
# Maximum response bytes for HTTPS outcalls
MAX_RESPONSE_BYTES=10000

# Transform function cycles limit
TRANSFORM_CYCLES_LIMIT=1000000000

# Consensus nodes for outcalls (mainnet only)
OUTCALL_CONSENSUS_NODES=13

# ============================================
# Upgrade Configuration
# ============================================
# Enable automatic upgrades
ENABLE_AUTO_UPGRADE=false

# Stable memory backup before upgrade
BACKUP_BEFORE_UPGRADE=true

# Maximum stable memory size (GB)
MAX_STABLE_MEMORY_GB=8

# ============================================
# Frontend Configuration
# ============================================
# Frontend canister memory allocation (MB)
FRONTEND_MEMORY_MB=256

# Enable gzip compression for assets
ENABLE_ASSET_COMPRESSION=true

# Cache duration for static assets (seconds)
ASSET_CACHE_DURATION=3600

# ============================================
# API Keys (External Services)
# ============================================
# Additional weather data providers (optional)
# NOAA API Key
NOAA_API_KEY=

# OpenWeather API Key (backup data source)
OPENWEATHER_API_KEY=

# ============================================
# Cycles Management
# ============================================
# Auto top-up threshold (in trillion cycles)
AUTO_TOPUP_THRESHOLD=5

# Auto top-up amount (in trillion cycles)
AUTO_TOPUP_AMOUNT=10

# Cycles monitoring webhook URL (optional)
CYCLES_WEBHOOK_URL=

# ============================================
# Feature Flags
# ============================================
# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable multi-location support
ENABLE_MULTI_LOCATION=false

# Enable dynamic pricing
ENABLE_DYNAMIC_PRICING=false

# Enable DAO governance
ENABLE_DAO_GOVERNANCE=false

# ============================================
# Notes
# ============================================
# - Never commit the actual .env file to version control
# - Keep your principal IDs and sensitive data secure
# - Update canister IDs after each deployment
# - Adjust rate limits based on your usage patterns
# - Monitor cycles consumption regularly
# - Test thoroughly before mainnet deployment